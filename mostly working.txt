index-BLD2yI4v.js:40 klondike engine initialized with profile: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Registry entries loaded: 25 exploits
index-BLD2yI4v.js:40 Auto-integrating enhanced scoring for coronata mode
index-BLD2yI4v.js:40 Player inventory initialized clean: {exploits: Array(0), curses: Array(0), fortunes: Array(0)}
index-BLD2yI4v.js:40 Processing immediate effects for active registry entries...
index-BLD2yI4v.js:40 Dealing initial hand of 5 cards from deck with 24 cards
index-BLD2yI4v.js:40 Hand now has 5 cards, deck has 19 cards
index-BLD2yI4v.js:40 Trial 1, Encounter 1: FEAR
index-BLD2yI4v.js:40 Encounter type: fear
index-BLD2yI4v.js:40 Registry fear length: 20
index-BLD2yI4v.js:40 Registry danger length: 10
index-BLD2yI4v.js:40 Raw encounters length: 20
index-BLD2yI4v.js:40 Available encounters length: 20
index-BLD2yI4v.js:40 First few encounters: (3) [{…}, {…}, {…}]
index-BLD2yI4v.js:40 First encounter structure: {id: 'fear-suffocation', label: 'Fear of Suffocation', description: 'You may not play cards from your discard pile.', type: 'fear', rarity: '', …}
index-BLD2yI4v.js:40 Random value: 0.6089463305898491
index-BLD2yI4v.js:40 Array length: 20
index-BLD2yI4v.js:40 Calculated index: 12
index-BLD2yI4v.js:40 Index in bounds? true
index-BLD2yI4v.js:40 Selected entry: {id: 'fear-scapegoat', label: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', type: 'fear', rarity: '', …}
index-BLD2yI4v.js:40 Coronata state initialized: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Final deck cards: 19
index-BLD2yI4v.js:40 Final hand cards: 5
index-BLD2yI4v.js:40 coronata engine initialized with profile: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Registry entries loaded: 25 exploits
index-BLD2yI4v.js:40 New game session started
index-BLD2yI4v.js:40 Fortune selected: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 0% (0/112)
index-BLD2yI4v.js:40 Adding selected fortune to player registry: Stroke of Luck
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Player fortunes updated: ['fortune-stroke-of-luck']
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 [Violation] 'click' handler took 1944ms
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c2
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c23
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c23
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c23
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c15
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c15
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c15
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c2 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '2 of hearts', isAltColor: false, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '6 of hearts', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c2
index-BLD2yI4v.js:40 Finding valid moves for card c23 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '10 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '10 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '6 of hearts', movingCard: '10 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 10)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 10)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 10)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 10)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c23
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c23 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c15 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '2 of diamonds', isAltColor: false, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '6 of hearts', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c15
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c15 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c2
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c23
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Clearing shake for card: c15
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c15
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c44
index-BLD2yI4v.js:40 Pile ID: tableau6
index-BLD2yI4v.js:40 Selected card ID: c15
index-BLD2yI4v.js:40 Target pile: {id: 'tableau6', type: 'tableau', cards: Array(6), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 From pile ID: hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move validation result: false
index-BLD2yI4v.js:40 BLOCKED: Move failed validation
index-BLD2yI4v.js:40 Triggering shake for card: c15
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 ENGINE: Move validation failed
index-BLD2yI4v.js:40 Triggering shake for card: c15
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c15 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c44
index-BLD2yI4v.js:40 Pile ID: tableau6
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: null
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c15 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(0), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 0, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c44 from pile tableau6
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau1', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau1', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '5 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau2', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '5 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau3', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '5 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau4', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau4', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '5 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau5', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau5', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '5 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '6 of hearts', movingCard: '5 of spades', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 Move valid? true
index-BLD2yI4v.js:40 Added valid destination: tableau7
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'foundation1', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 5)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'foundation2', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'foundation2', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 5)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'foundation3', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'foundation3', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 5)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'foundation4', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'foundation4', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 5)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau6', to: 'hand', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'hand', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: hand (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['tableau7']
index-BLD2yI4v.js:40 Auto-moving card c44 from tableau6 to tableau7
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 5 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '6 of hearts', movingCard: '5 of spades', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 5
index-BLD2yI4v.js:40 Move details: {from: 'tableau6', to: 'tableau7', toPileType: 'tableau'}
index-BLD2yI4v.js:40 Hand pile before refill: 5 cards
index-BLD2yI4v.js:40 Deck pile before refill: 19 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'tableau6', to: 'tableau7', cardId: 'c44'} Current player score: 0
index-BLD2yI4v.js:40 Found card c44 with value 5
index-BLD2yI4v.js:40 Move destination: tableau7 includes foundation? false
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 5 to tableau
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 5
index-BLD2yI4v.js:40 Enhanced scoring: Updated player score from 0 to 5 (added 5 )
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Enhanced scoring: Found 0 applicable move effects
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base move score: 5, Total player score: 5
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base scoring check - config.rules: coronata scoringSystem exists: true
index-BLD2yI4v.js:40 Base scoring: Skipped because rules = coronata
index-BLD2yI4v.js:40 ENGINE: Move event emitted successfully
index-BLD2yI4v.js:40 ENGINE: Move completed successfully
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c15 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 5, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 4.464285714285714% (5/112)
index-BLD2yI4v.js:40 Clearing shake for card: c15
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 5, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c15
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c4
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 5, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c4
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c4
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 19
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(19), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(1), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 5, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c4 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '4 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '4 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '4 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '4 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '4 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '4 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (8 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '4 of hearts', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 Move valid? true
index-BLD2yI4v.js:40 Added valid destination: tableau7
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['tableau7']
index-BLD2yI4v.js:40 Auto-moving card c4 from hand to tableau7
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c4'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (8 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of spades', movingCard: '4 of hearts', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c4'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (8 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 4
index-BLD2yI4v.js:40 Move details: {from: 'hand', to: 'tableau7', toPileType: 'tableau'}
index-BLD2yI4v.js:40 Hand pile before refill: 4 cards
index-BLD2yI4v.js:40 Deck pile before refill: 19 cards
index-BLD2yI4v.js:40 Triggering hand refill from moveCard
index-BLD2yI4v.js:40 Hand refilled: drew 1 cards to reach max hand size 5, hand now has 5 cards
index-BLD2yI4v.js:40 Hand pile after refill: 5 cards
index-BLD2yI4v.js:40 Deck pile after refill: 18 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'hand', to: 'tableau7', cardId: 'c4'} Current player score: 5
index-BLD2yI4v.js:40 Found card c4 with value 4
index-BLD2yI4v.js:40 Move destination: tableau7 includes foundation? false
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 4 to tableau
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 4
index-BLD2yI4v.js:40 Enhanced scoring: Updated player score from 5 to 9 (added 4 )
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Enhanced scoring: Found 0 applicable move effects
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base move score: 4, Total player score: 9
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base scoring check - config.rules: coronata scoringSystem exists: true
index-BLD2yI4v.js:40 Base scoring: Skipped because rules = coronata
index-BLD2yI4v.js:40 ENGINE: Move event emitted successfully
index-BLD2yI4v.js:40 ENGINE: Move completed successfully
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 18
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 9, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 8.035714285714286% (9/112)
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c41
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 18
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 9, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c41
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c41
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 18
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(18), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(2), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 9, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c41 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '2 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '2 of spades', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 Move valid? true
index-BLD2yI4v.js:40 Added valid destination: tableau4
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (9 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '4 of hearts', movingCard: '2 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['tableau4']
index-BLD2yI4v.js:40 Auto-moving card c41 from hand to tableau4
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c41'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of diamonds', movingCard: '2 of spades', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c41'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 4
index-BLD2yI4v.js:40 Move details: {from: 'hand', to: 'tableau4', toPileType: 'tableau'}
index-BLD2yI4v.js:40 Hand pile before refill: 4 cards
index-BLD2yI4v.js:40 Deck pile before refill: 18 cards
index-BLD2yI4v.js:40 Triggering hand refill from moveCard
index-BLD2yI4v.js:40 Hand refilled: drew 1 cards to reach max hand size 5, hand now has 5 cards
index-BLD2yI4v.js:40 Hand pile after refill: 5 cards
index-BLD2yI4v.js:40 Deck pile after refill: 17 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'hand', to: 'tableau4', cardId: 'c41'} Current player score: 9
index-BLD2yI4v.js:40 Found card c41 with value 2
index-BLD2yI4v.js:40 Move destination: tableau4 includes foundation? false
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 2 to tableau
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 2
index-BLD2yI4v.js:40 Enhanced scoring: Updated player score from 9 to 11 (added 2 )
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Enhanced scoring: Found 0 applicable move effects
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base move score: 2, Total player score: 11
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base scoring check - config.rules: coronata scoringSystem exists: true
index-BLD2yI4v.js:40 Base scoring: Skipped because rules = coronata
index-BLD2yI4v.js:40 ENGINE: Move event emitted successfully
index-BLD2yI4v.js:40 ENGINE: Move completed successfully
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 17
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 9.821428571428571% (11/112)
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 17
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c2
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 17
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c2 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '13 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of diamonds', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (9 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '4 of hearts', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 2)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c2
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c2 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: hand
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c2 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: hand
 Selected card ID: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c2 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c2
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c15 from pile hand
 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '8 of diamonds', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c15 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c30
 Pile ID: hand
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c15 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c30
 Pile ID: hand
 Selected card ID: c30
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c15 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c30 from pile hand
 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau1', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '4 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau2', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '4 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau3', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '8 of diamonds', movingCard: '4 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau4', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '4 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau5', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '4 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau6', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '4 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '4 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation1', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation2', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation3', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c30'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c30'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c30
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 17
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(17), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c30 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c30 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c30
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c48
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c48
 Pile ID: waste
 Selected card ID: c48
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c48 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '9 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '8 of diamonds', movingCard: '9 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau4', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau6', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '9 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau7', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: tableau (9 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '4 of hearts', movingCard: '9 of spades', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation1', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 9)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation2', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 9)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation3', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 9)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation4', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 9)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'hand', cardId: 'c48'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'hand', cardId: 'c48'}
index-BLD2yI4v.js:40 From pile: waste (1 cards)
index-BLD2yI4v.js:40 To pile: hand (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 9 of spades
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c48
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c48 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c48
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 16
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(16), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c33
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c33
 Pile ID: waste
 Selected card ID: c33
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(3), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 11, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c33 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '7 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '7 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '8 of diamonds', movingCard: '7 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau3
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '7 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '7 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '7 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '7 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau3']
 Auto-moving card c33 from waste to tableau3
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c33'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 7 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '8 of diamonds', movingCard: '7 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c33'}
 From pile: waste (2 cards)
 To pile: tableau (3 cards)
 Movable stack length: 1
 Card index in fromPile: 1
 Move details: {from: 'waste', to: 'tableau3', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 15 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau3', cardId: 'c33'} Current player score: 11
 Found card c33 with value 7
 Move destination: tableau3 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 7 to tableau
 Enhanced scoring: Calculated move score: 7
 Enhanced scoring: Updated player score from 11 to 18 (added 7 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 7, Total player score: 18
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 16.071428571428573% (18/112)
 === CARD CLICK DEBUG ===
 Card ID: c48
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c48
 Pile ID: waste
 Selected card ID: c48
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c48 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '9 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '9 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '9 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '9 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '9 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c48'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c48'}
 From pile: waste (1 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c48
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 15
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(15), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c48 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 14
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c48
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 14
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c34
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 14
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c34
 Pile ID: waste
 Selected card ID: c34
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 14
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c34 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '8 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c34'}
 From pile: waste (2 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c34
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 14
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(14), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c34 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(13), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 13
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(13), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c34
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(13), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 13
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(13), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c47
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c12
 Pile ID: tableau6
 Selected card ID: c47
 Target pile: {id: 'tableau6', type: 'tableau', cards: Array(5), rules: undefined, meta: undefined}
 From pile ID: waste
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move validation result: false
 BLOCKED: Move failed validation
 Triggering shake for card: c47
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c47
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c47 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c47
 Clearing shake for card: c47
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c12
 Pile ID: tableau6
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c12
 Pile ID: tableau6
 Selected card ID: c12
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '12 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c12
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c12 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(4), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 18, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c12 from pile tableau6
 Testing move: {from: 'tableau6', to: 'tableau1', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau1', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '12 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '12 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau2
 Testing move: {from: 'tableau6', to: 'tableau3', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '12 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau4', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau4', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '12 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau5', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau5', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '12 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau7', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '12 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation1', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation2', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation2', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation3', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation3', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation4', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation4', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'hand', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'hand', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau2']
 Auto-moving card c12 from tableau6 to tableau2
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 12 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '13 of spades', movingCard: '12 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'}
 From pile: tableau (5 cards)
 To pile: tableau (2 cards)
 Movable stack length: 1
 Card index in fromPile: 4
 Move details: {from: 'tableau6', to: 'tableau2', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 12 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau6', to: 'tableau2', cardId: 'c12'} Current player score: 18
 Found card c12 with value 12
 Move destination: tableau2 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 12 to tableau
 Enhanced scoring: Calculated move score: 12
 Enhanced scoring: Updated player score from 18 to 30 (added 12 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 12, Total player score: 30
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c12 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 26.785714285714285% (30/112)
 Clearing shake for card: c12
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c47
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c47
 Pile ID: waste
 Selected card ID: c47
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c47 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '8 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '8 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '8 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '8 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '8 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '8 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c47'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c47'}
 From pile: waste (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c47
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 12
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(12), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c47 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(11), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 11
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(11), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c47
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(11), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 11
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(11), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c42
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c42
 Pile ID: waste
 Selected card ID: c42
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(5), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 30, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c42 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '3 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '3 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '3 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '3 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '3 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '3 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '3 of spades', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau7
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau7']
 Auto-moving card c42 from waste to tableau7
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c42'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (9 cards)
 Movable stack: 1 cards
 Moving card: 3 of spades
 Validating tableau move...
 Tableau validation: {topCard: '4 of hearts', movingCard: '3 of spades', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c42'}
 From pile: waste (6 cards)
 To pile: tableau (9 cards)
 Movable stack length: 1
 Card index in fromPile: 5
 Move details: {from: 'waste', to: 'tableau7', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 10 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau7', cardId: 'c42'} Current player score: 30
 Found card c42 with value 3
 Move destination: tableau7 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 3 to tableau
 Enhanced scoring: Calculated move score: 3
 Enhanced scoring: Updated player score from 30 to 33 (added 3 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 3, Total player score: 33
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 33, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 29.464285714285715% (33/112)
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: hand
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 33, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: hand
 Selected card ID: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 10
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(6), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 33, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c15 from pile hand
 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau1', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau2', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau3', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau4', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau5', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau6', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau7
 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation1', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation2', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation3', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Found valid destinations: ['tableau7']
 Auto-moving card c15 from hand to tableau7
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c15'}
 From pile: hand (5 cards)
 To pile: tableau (10 cards)
 Movable stack length: 1
 Card index in fromPile: 2
 Move details: {from: 'hand', to: 'tableau7', toPileType: 'tableau'}
 Hand pile before refill: 4 cards
 Deck pile before refill: 10 cards
 Triggering hand refill from moveCard
 Hand refilled: drew 1 cards to reach max hand size 5, hand now has 5 cards
 Hand pile after refill: 5 cards
 Deck pile after refill: 9 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'hand', to: 'tableau7', cardId: 'c15'} Current player score: 33
 Found card c15 with value 2
 Move destination: tableau7 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 2 to tableau
 Enhanced scoring: Calculated move score: 2
 Enhanced scoring: Updated player score from 33 to 35 (added 2 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 2, Total player score: 35
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 9
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 35, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 31.25% (35/112)
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 35, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c19
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 35, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c19
 Pile ID: waste
 Selected card ID: c19
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(7), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 35, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c19 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '6 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '6 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '6 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau3
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '6 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '6 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '6 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '6 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 6)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 6)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 6)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 6)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau3']
 Auto-moving card c19 from waste to tableau3
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c19'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 6 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of clubs', movingCard: '6 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c19'}
 From pile: waste (6 cards)
 To pile: tableau (4 cards)
 Movable stack length: 1
 Card index in fromPile: 5
 Move details: {from: 'waste', to: 'tableau3', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 8 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau3', cardId: 'c19'} Current player score: 35
 Found card c19 with value 6
 Move destination: tableau3 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 6 to tableau
 Enhanced scoring: Calculated move score: 6
 Enhanced scoring: Updated player score from 35 to 41 (added 6 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 6, Total player score: 41
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 41, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 36.607142857142854% (41/112)
 === CARD CLICK DEBUG ===
 Card ID: c31
 Pile ID: tableau6
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 41, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c31
 Pile ID: tableau6
 Selected card ID: c31
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (4 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '5 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c31
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c31 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(8), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 41, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c31 from pile tableau6
 Testing move: {from: 'tableau6', to: 'tableau1', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau1', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '5 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau2', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '5 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '6 of diamonds', movingCard: '5 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau3
 Testing move: {from: 'tableau6', to: 'tableau4', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau4', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '5 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau5', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau5', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '5 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau7', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '5 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation1', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 5)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation2', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation2', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 5)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation3', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation3', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 5)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation4', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation4', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 5)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'hand', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'hand', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau3']
 Auto-moving card c31 from tableau6 to tableau3
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 5 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '6 of diamonds', movingCard: '5 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'}
 From pile: tableau (4 cards)
 To pile: tableau (5 cards)
 Movable stack length: 1
 Card index in fromPile: 3
 Move details: {from: 'tableau6', to: 'tableau3', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 8 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau6', to: 'tableau3', cardId: 'c31'} Current player score: 41
 Found card c31 with value 5
 Move destination: tableau3 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 5 to tableau
 Enhanced scoring: Calculated move score: 5
 Enhanced scoring: Updated player score from 41 to 46 (added 5 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 5, Total player score: 46
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c31 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 41.07142857142857% (46/112)
 Clearing shake for card: c31
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c43 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '4 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '4 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'hand', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'hand', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (5 cards)
index-BLD2yI4v.js:40 To pile: hand (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c43
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 8
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c43 is shaking, classes: card face-up spades shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 8
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c43 is shaking, classes: card face-up spades shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c43
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 8
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c2
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c2
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 8
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c2 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c2'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 2 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau2', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau3', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau4', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau5', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau6', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '2 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '2 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation1', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation2', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation3', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c2'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c2
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c2 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c2 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c2
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c27
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c27
 Pile ID: waste
 Selected card ID: c27
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(9), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 46, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c27 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '1 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '1 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '1 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '1 of clubs', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '1 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '1 of clubs', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '1 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau7
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation1
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation2
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation3
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation4
 Testing move: {from: 'waste', to: 'hand', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: (5) ['tableau7', 'foundation1', 'foundation2', 'foundation3', 'foundation4']
 Auto-moving ace c27 from waste to first available foundation foundation1
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c27'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of clubs
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c27'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack length: 1
 Card index in fromPile: 5
 Move details: {from: 'waste', to: 'foundation1', toPileType: 'foundation'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 7 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'foundation1', cardId: 'c27'} Current player score: 46
 Found card c27 with value 1
 Move destination: foundation1 includes foundation? true
 Applied foundation multiplier: base score 1 → 2
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 1 to foundation
 Enhanced scoring: Calculated move score: 2
 Enhanced scoring: Updated player score from 46 to 48 (added 2 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 2, Total player score: 48
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 42.857142857142854% (48/112)
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c43 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '4 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '4 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '4 of spades', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 4)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c43'}
 From pile: waste (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c43 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c24 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '11 of diamonds', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '11 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '11 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c24'}
 From pile: waste (6 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c24 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c39
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c39
 Pile ID: waste
 Selected card ID: c39
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c39 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '13 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '13 of clubs', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c39'}
 From pile: waste (7 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c39
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 5
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c39 is shaking, classes: card face-up clubs shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c39
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c26
index-BLD2yI4v.js:40 Pile ID: waste
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c26
index-BLD2yI4v.js:40 Pile ID: waste
index-BLD2yI4v.js:40 Selected card ID: c26
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c26 from pile waste
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau1', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau2', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau3', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau4', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of spades', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau6', cardId: 'c26'}
index-BLD2yI4v.js:40 From pile: waste (8 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 13 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c26'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau7', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '13 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '13 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c26'}
 From pile: waste (8 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c26
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c26 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 3
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Clearing shake for card: c26
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 3
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 2
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c14
index-BLD2yI4v.js:40 Pile ID: waste
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 2
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c14
index-BLD2yI4v.js:40 Pile ID: waste
index-BLD2yI4v.js:40 Selected card ID: c14
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 2
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(10), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 48, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c14 from pile waste
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c14'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau1', cardId: 'c14'}
index-BLD2yI4v.js:40 From pile: waste (10 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 1 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '1 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c14'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau2', cardId: 'c14'}
index-BLD2yI4v.js:40 From pile: waste (10 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '1 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '1 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '1 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau4
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '1 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '1 of diamonds', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau6
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '1 of diamonds', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '1 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation2
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation3
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation4
 Testing move: {from: 'waste', to: 'hand', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: (5) ['tableau4', 'tableau6', 'foundation2', 'foundation3', 'foundation4']
 Auto-moving ace c14 from waste to first available foundation foundation2
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c14'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c14'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack length: 1
 Card index in fromPile: 9
 Move details: {from: 'waste', to: 'foundation2', toPileType: 'foundation'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 2 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'foundation2', cardId: 'c14'} Current player score: 48
 Found card c14 with value 1
 Move destination: foundation2 includes foundation? true
 Applied foundation multiplier: base score 1 → 2
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 1 to foundation
 Enhanced scoring: Calculated move score: 2
 Enhanced scoring: Updated player score from 48 to 50 (added 2 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 2, Total player score: 50
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 44.642857142857146% (50/112)
 === CARD CLICK DEBUG ===
 Card ID: c41
 Pile ID: tableau4
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c41
 Pile ID: tableau4
 Selected card ID: c41
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau4', to: 'tableau4', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau4', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c41 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c41 from pile tableau4
 Testing move: {from: 'tableau4', to: 'tableau1', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau1', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau2', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau2', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau3', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau3', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau5', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau5', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau6', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau6', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau7', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau7', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '2 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation1', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation1', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '2 of spades', sameSuit: false, ascending: true}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation2', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation2', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Foundation validation: {topCard: '1 of diamonds', movingCard: '2 of spades', sameSuit: false, ascending: true}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation3', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation3', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation4', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation4', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau4', to: 'hand', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'hand', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c41 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: tableau7
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c15
 Pile ID: tableau7
 Selected card ID: c15
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (11 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of diamonds', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c15 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(11), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 50, score: 50, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c15 from pile tableau7
 Testing move: {from: 'tableau7', to: 'tableau1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau1', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau2', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau3', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau4', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau5', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau5', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau6', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '2 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation1', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '2 of diamonds', sameSuit: false, ascending: true}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of diamonds', movingCard: '2 of diamonds', sameSuit: true, ascending: true}
 Foundation result: true
 Move valid? true
 Added valid destination: foundation2
 Testing move: {from: 'tableau7', to: 'foundation3', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation4', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation4', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau7', to: 'hand', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'hand', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['foundation2']
 Auto-moving card c15 from tableau7 to foundation2
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '1 of diamonds', movingCard: '2 of diamonds', sameSuit: true, ascending: true}
 Foundation result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'}
 From pile: tableau (11 cards)
 To pile: foundation (1 cards)
 Movable stack length: 1
 Card index in fromPile: 10
 Move details: {from: 'tableau7', to: 'foundation2', toPileType: 'foundation'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 2 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 Applying 1 event-based effects for on_foundation_play
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 1 event-based effects for on_play_to_foundation
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau7', to: 'foundation2', cardId: 'c15'} Current player score: 50
 Found card c15 with value 2
 Move destination: foundation2 includes foundation? true
 Applied foundation multiplier: base score 2 → 4
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 2 to foundation
 Enhanced scoring: Calculated move score: 4
 Enhanced scoring: Updated player score from 50 to 54 (added 4 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 4, Total player score: 54
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c15 is shaking, classes: card face-up diamonds shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 48.214285714285715% (54/112)
 Clearing shake for card: c15
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c13 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c13'}
 From pile: waste (9 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c13 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c9
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c9
 Pile ID: waste
 Selected card ID: c9
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c9 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '9 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau1
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '9 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '9 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '9 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '9 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau5
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '9 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '9 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '9 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '9 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 9)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: (2) ['tableau1', 'tableau5']
 Multiple valid moves found: 2 destinations
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(12), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 54, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c49
 Pile ID: tableau5
 Selected card ID: c9
 Target pile: {id: 'tableau5', type: 'tableau', cards: Array(5), rules: undefined, meta: undefined}
 From pile ID: waste
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '9 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move validation result: true
 Attempting move from waste to tableau5 for card c9
 Before move - Player score: 54
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of spades', movingCard: '9 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c9'}
 From pile: waste (10 cards)
 To pile: tableau (5 cards)
 Movable stack length: 1
 Card index in fromPile: 9
 Move details: {from: 'waste', to: 'tableau5', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 1 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau5', cardId: 'c9'} Current player score: 54
 Found card c9 with value 9
 Move destination: tableau5 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 9 to tableau
 Enhanced scoring: Calculated move score: 9
 Enhanced scoring: Updated player score from 54 to 63 (added 9 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 9, Total player score: 63
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 Move successful! After move - Player score: 63
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau5', to: 'tableau5', cardId: 'c9'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau5', to: 'tableau5', cardId: 'c9'}
 From pile: tableau (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 9 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '9 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c9
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c9 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 63, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 56.25% (63/112)
 Clearing shake for card: c9
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 63, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 63, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c28
 Pile ID: tableau6
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 63, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c28
 Pile ID: tableau6
 Selected card ID: c28
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau6', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of clubs', movingCard: '2 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c28
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c28 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(13), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 52, score: 63, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c28 from pile tableau6
 Testing move: {from: 'tableau6', to: 'tableau1', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau1', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau2', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau2', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau3', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau3', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau4', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau4', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau5', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau5', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '2 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'tableau7', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'tableau7', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '2 of clubs', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '2 of clubs', sameSuit: true, ascending: true}
 Foundation result: true
 Move valid? true
 Added valid destination: foundation1
 Testing move: {from: 'tableau6', to: 'foundation2', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation2', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '2 of clubs', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation3', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation3', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'foundation4', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation4', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau6', to: 'hand', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'hand', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['foundation1']
 Auto-moving card c28 from tableau6 to foundation1
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '1 of clubs', movingCard: '2 of clubs', sameSuit: true, ascending: true}
 Foundation result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'}
 From pile: tableau (3 cards)
 To pile: foundation (1 cards)
 Movable stack length: 1
 Card index in fromPile: 2
 Move details: {from: 'tableau6', to: 'foundation1', toPileType: 'foundation'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 1 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 Applying 1 event-based effects for on_foundation_play
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 1 event-based effects for on_play_to_foundation
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau6', to: 'foundation1', cardId: 'c28'} Current player score: 63
 Found card c28 with value 2
 Move destination: foundation1 includes foundation? true
 Applied foundation multiplier: base score 2 → 4
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 2 to foundation
 Enhanced scoring: Calculated move score: 4
 Enhanced scoring: Updated player score from 63 to 67 (added 4 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 4, Total player score: 67
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c28 is shaking, classes: card face-up clubs shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 59.82142857142857% (67/112)
 Clearing shake for card: c28
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c41
 Pile ID: tableau4
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c41
 Pile ID: tableau4
 Selected card ID: c41
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau4', to: 'tableau4', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau4', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c41 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c41 from pile tableau4
 Testing move: {from: 'tableau4', to: 'tableau1', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau1', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau2', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau2', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '2 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau3', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau3', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau5', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau5', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '2 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau6', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau6', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'tableau7', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'tableau7', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '2 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation1', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation1', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '2 of spades', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation2', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation2', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '2 of spades', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation3', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation3', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau4', to: 'foundation4', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'foundation4', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 2)
 Move valid? false
 Testing move: {from: 'tableau4', to: 'hand', cardId: 'c41'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau4', to: 'hand', cardId: 'c41'}
 From pile: tableau (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 2 of spades
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c41 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c41
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 === CARD CLICK DEBUG ===
 Card ID: c51
 Pile ID: hand
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c51
 Pile ID: hand
 Selected card ID: c51
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c51 from pile hand
 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau1', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '12 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau2', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '12 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau3', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '12 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau4', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '12 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau5', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '12 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau6', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '12 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'tableau7', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '12 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation1', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '12 of spades', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation2', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '12 of spades', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation3', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c51'}
 === VALIDATING MOVE ===
 Move: {from: 'hand', to: 'foundation4', cardId: 'c51'}
 From pile: hand (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 12 of spades
 Validating foundation move...
 Empty foundation - Ace required: false (card is 12)
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c51
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c51 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c51
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 1
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c13
index-BLD2yI4v.js:40 Pile ID: waste
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 1
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 0
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Deck shuffled! Shuffles remaining: 2
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 10
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(10), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 9
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(14), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 67, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c47
 Pile ID: waste
 Selected card ID: c13
 Target pile: {id: 'waste', type: 'waste', cards: Array(3), rules: {…}, meta: {…}}
 From pile ID: deck
 Testing move: {from: 'deck', to: 'waste', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'deck', to: 'waste', cardId: 'c13'}
 From pile: deck (7 cards)
 To pile: waste (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating waste move...
 Waste result: true (from: deck)
 Move validation result: true
 Attempting move from deck to waste for card c13
 Before move - Player score: 67
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'deck', to: 'waste', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'deck', to: 'waste', cardId: 'c13'}
 From pile: deck (7 cards)
 To pile: waste (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating waste move...
 Waste result: true (from: deck)
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'deck', to: 'waste', cardId: 'c13'}
 From pile: deck (7 cards)
 To pile: waste (3 cards)
 Movable stack length: 1
 Card index in fromPile: 6
 Move details: {from: 'deck', to: 'waste', toPileType: 'waste'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 6 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'deck', to: 'waste', cardId: 'c13'} Current player score: 67
 Found card c13 with value 13
 Move destination: waste includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 13 to waste
 Enhanced scoring: Calculated move score: 13
 Enhanced scoring: Updated player score from 67 to 80 (added 13 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 13, Total player score: 80
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 Move successful! After move - Player score: 80
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 71.42857142857143% (80/112)
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c13 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c13 is shaking, classes: card face-down hearts selected shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c13 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c13 is shaking, classes: card face-down hearts selected shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c34
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c34
 Pile ID: waste
 Selected card ID: c34
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(15), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 80, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c34 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '8 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau5
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '8 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '8 of clubs', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '8 of clubs', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 8)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau5']
 Auto-moving card c34 from waste to tableau5
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 8 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '9 of hearts', movingCard: '8 of clubs', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c34'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack length: 1
 Card index in fromPile: 4
 Move details: {from: 'waste', to: 'tableau5', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 5 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau5', cardId: 'c34'} Current player score: 80
 Found card c34 with value 8
 Move destination: tableau5 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 8 to tableau
 Enhanced scoring: Calculated move score: 8
 Enhanced scoring: Updated player score from 80 to 88 (added 8 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 8, Total player score: 88
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 78.57142857142857% (88/112)
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c13 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c13'}
 From pile: waste (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c13 is shaking, classes: card face-down hearts shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c26
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c26
 Pile ID: waste
 Selected card ID: c26
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c26 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of diamonds', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of diamonds', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c26'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c26'}
 From pile: waste (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c26
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c26 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 3
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c26
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 3
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c24 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '11 of diamonds', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '11 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '11 of diamonds', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c24'}
 From pile: waste (7 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 2
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(2), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c24 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c39
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c39
 Pile ID: waste
 Selected card ID: c39
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c39 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of clubs', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of clubs', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c39'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c39'}
 From pile: waste (8 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of clubs
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c39
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 1
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(1), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c39 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 0
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c39
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 0
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 0
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c43
 Pile ID: waste
 Selected card ID: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 0
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c43 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c43'}
 From pile: waste (9 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c43'}
 From pile: waste (9 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '4 of spades', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c43'}
 From pile: waste (9 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 4 of spades
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c43'}
 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of clubs', movingCard: '4 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau6', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '7 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau7', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: tableau (10 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of spades', movingCard: '4 of spades', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation1', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of clubs', movingCard: '4 of spades', sameSuit: false, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation2', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of diamonds', movingCard: '4 of spades', sameSuit: false, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation3', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'foundation4', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 4)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'waste', to: 'hand', cardId: 'c43'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'hand', cardId: 'c43'}
index-BLD2yI4v.js:40 From pile: waste (9 cards)
index-BLD2yI4v.js:40 To pile: hand (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 4 of spades
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: []
index-BLD2yI4v.js:40 Triggering shake for card: c43
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 0
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(0), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c43 is shaking, classes: card face-up spades shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 Deck shuffled! Shuffles remaining: 1
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 9
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c43
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 9
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(9), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c24
 Pile ID: waste
 Selected card ID: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c24 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '11 of diamonds', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '11 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '11 of diamonds', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '11 of diamonds', sameSuit: true, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 Validating foundation move...
 Empty foundation - Ace required: false (card is 11)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c24'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c24'}
 From pile: waste (1 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 11 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 8
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(8), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c24 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c24
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c13
 Pile ID: waste
 Selected card ID: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c13 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '13 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '13 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '13 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 13)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c13'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c13'}
 From pile: waste (2 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 13 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 7
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(7), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c13 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c13
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c21
 Pile ID: tableau3
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c21
 Pile ID: tableau3
 Selected card ID: c21
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau3', to: 'tableau3', cardId: 'c21'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau3', to: 'tableau3', cardId: 'c21'}
 From pile: tableau (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 4 cards
 Moving card: 8 of diamonds
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c21
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 6
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 Card c21 is shaking, classes: card face-up diamonds shake draggable
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c21 from pile tableau3
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau1', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau1', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau2', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau2', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '8 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau4', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau4', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau5', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau5', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of clubs', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau6', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau6', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (2 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '7 of spades', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'tableau7', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'tableau7', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: tableau (10 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of spades', movingCard: '8 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'foundation1', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'foundation1', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 INVALID: Foundation cannot accept stacks
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'foundation2', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'foundation2', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 INVALID: Foundation cannot accept stacks
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau3', to: 'foundation3', cardId: 'c21'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau3', to: 'foundation3', cardId: 'c21'}
index-BLD2yI4v.js:40 From pile: tableau (6 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
index-BLD2yI4v.js:40 Moving card: 8 of diamonds
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau3', to: 'foundation4', cardId: 'c21'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau3', to: 'foundation4', cardId: 'c21'}
 From pile: tableau (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 4 cards
 Moving card: 8 of diamonds
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau3', to: 'hand', cardId: 'c21'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau3', to: 'hand', cardId: 'c21'}
 From pile: tableau (6 cards)
 To pile: hand (5 cards)
 Movable stack: 4 cards
 Moving card: 8 of diamonds
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c21
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c21 is shaking, classes: card face-up diamonds shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c21
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c21
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 6
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(6), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c3
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c3
 Pile ID: waste
 Selected card ID: c3
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c3 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '3 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '3 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '3 of hearts', sameSuit: false, ascending: true}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '3 of hearts', sameSuit: false, ascending: true}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 3)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c3'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c3'}
 From pile: waste (4 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: []
 Triggering shake for card: c3
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 5
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(5), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c3 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Active registry entries: 0 out of 25 (including card blessings)
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c3
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c7
 Pile ID: waste
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c7
 Pile ID: waste
 Selected card ID: c7
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'stateChange', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(16), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 88, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c7 from pile waste
 Testing move: {from: 'waste', to: 'tableau1', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau1', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '7 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau2', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau2', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '7 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau3', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau3', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '7 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau4', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau4', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '7 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau5', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau5', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (7 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '8 of clubs', movingCard: '7 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau5
 Testing move: {from: 'waste', to: 'tableau6', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau6', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (2 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '7 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'tableau7', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'tableau7', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: tableau (10 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '7 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation1', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation1', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '7 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation2', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation2', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '7 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation3', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation3', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'foundation4', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'foundation4', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
 Validating foundation move...
 Empty foundation - Ace required: false (card is 7)
 Move valid? false
 Testing move: {from: 'waste', to: 'hand', cardId: 'c7'}
 === VALIDATING MOVE ===
 Move: {from: 'waste', to: 'hand', cardId: 'c7'}
 From pile: waste (5 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 7 of hearts
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['tableau5']
index-BLD2yI4v.js:40 Auto-moving card c7 from waste to tableau5
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c7'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c7'}
index-BLD2yI4v.js:40 From pile: waste (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 7 of hearts
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '8 of clubs', movingCard: '7 of hearts', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'waste', to: 'tableau5', cardId: 'c7'}
index-BLD2yI4v.js:40 From pile: waste (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (7 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 4
index-BLD2yI4v.js:40 Move details: {from: 'waste', to: 'tableau5', toPileType: 'tableau'}
index-BLD2yI4v.js:40 Hand pile before refill: 5 cards
index-BLD2yI4v.js:40 Deck pile before refill: 4 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'waste', to: 'tableau5', cardId: 'c7'} Current player score: 88
index-BLD2yI4v.js:40 Found card c7 with value 7
index-BLD2yI4v.js:40 Move destination: tableau5 includes foundation? false
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 7 to tableau
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 7
index-BLD2yI4v.js:40 Enhanced scoring: Updated player score from 88 to 95 (added 7 )
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Enhanced scoring: Found 0 applicable move effects
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base move score: 7, Total player score: 95
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base scoring check - config.rules: coronata scoringSystem exists: true
index-BLD2yI4v.js:40 Base scoring: Skipped because rules = coronata
index-BLD2yI4v.js:40 ENGINE: Move event emitted successfully
index-BLD2yI4v.js:40 ENGINE: Move completed successfully
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 95, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 84.82142857142857% (95/112)
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c6
index-BLD2yI4v.js:40 Pile ID: tableau7
index-BLD2yI4v.js:40 Selected card ID: null
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 95, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c6
index-BLD2yI4v.js:40 Pile ID: tableau7
index-BLD2yI4v.js:40 Selected card ID: c6
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c6'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c6'}
index-BLD2yI4v.js:40 From pile: tableau (10 cards)
index-BLD2yI4v.js:40 To pile: tableau (10 cards)
index-BLD2yI4v.js:40 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '6 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c6
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c6 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(17), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 95, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c6 from pile tableau7
 Testing move: {from: 'tableau7', to: 'tableau1', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau1', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (1 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '6 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau2', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau2', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (3 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '6 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau3', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau3', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (6 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '6 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau4', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau4', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (5 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '6 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau5', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau5', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (8 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of hearts', movingCard: '6 of hearts', isAltColor: false, isDescending: true}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (2 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '6 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau6
 Testing move: {from: 'tableau7', to: 'foundation1', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: foundation (2 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation2', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: foundation (2 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation3', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation4', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation4', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: foundation (0 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating foundation move...
 INVALID: Foundation cannot accept stacks
 Move valid? false
 Testing move: {from: 'tableau7', to: 'hand', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'hand', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: hand (5 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: ['tableau6']
 Auto-moving card c6 from tableau7 to tableau6
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (2 cards)
 Movable stack: 4 cards
 Moving card: 6 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of spades', movingCard: '6 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'}
 From pile: tableau (10 cards)
 To pile: tableau (2 cards)
 Movable stack length: 4
 Card index in fromPile: 6
 Move details: {from: 'tableau7', to: 'tableau6', toPileType: 'tableau'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 4 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau7', to: 'tableau6', cardId: 'c6'} Current player score: 95
 Found card c6 with value 6
 Move destination: tableau6 includes foundation? false
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 6 to tableau
 Enhanced scoring: Calculated move score: 6
 Enhanced scoring: Updated player score from 95 to 101 (added 6 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 6, Total player score: 101
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c6 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 101, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 90.17857142857143% (101/112)
 === CARD CLICK DEBUG ===
 Card ID: c1
 Pile ID: tableau7
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c6 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 101, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c1
 Pile ID: tableau7
 Selected card ID: c1
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '1 of hearts', movingCard: '1 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c1
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c1 is shaking, classes: card face-up hearts shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 101, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Clearing shake for card: c6
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(18), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 54, score: 101, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c1 from pile tableau7
 Testing move: {from: 'tableau7', to: 'tableau1', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau1', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '1 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau2', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau2', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '1 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau3', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau3', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '1 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau4', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau4', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '1 of hearts', isAltColor: true, isDescending: true}
 Tableau result: true
 Move valid? true
 Added valid destination: tableau4
 Testing move: {from: 'tableau7', to: 'tableau5', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau5', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (8 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '7 of hearts', movingCard: '1 of hearts', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau6', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating tableau move...
 Tableau validation: {topCard: '3 of spades', movingCard: '1 of hearts', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation1', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of clubs', movingCard: '1 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation2', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (2 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating foundation move...
 Foundation validation: {topCard: '2 of diamonds', movingCard: '1 of hearts', sameSuit: false, ascending: false}
 Foundation result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation3
 Testing move: {from: 'tableau7', to: 'foundation4', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation4', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 Move valid? true
 Added valid destination: foundation4
 Testing move: {from: 'tableau7', to: 'hand', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'hand', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: hand (5 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 INVALID: Unknown pile type or invalid destination
 Move valid? false
 Found valid destinations: (3) ['tableau4', 'foundation3', 'foundation4']
 Auto-moving ace c1 from tableau7 to first available foundation foundation3
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (0 cards)
 Movable stack: 1 cards
 Moving card: 1 of hearts
 Validating foundation move...
 Empty foundation - Ace required: true (card is 1)
 ENGINE: Move validation passed
 ENGINE: Calling moveCardLogic...
 === MOVE CARD LOGIC ===
 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'}
 From pile: tableau (6 cards)
 To pile: foundation (0 cards)
 Movable stack length: 1
 Card index in fromPile: 5
 Move details: {from: 'tableau7', to: 'foundation3', toPileType: 'foundation'}
 Hand pile before refill: 5 cards
 Deck pile before refill: 4 cards
 MOVE LOGIC SUCCESS: Returning new state
 ENGINE: moveCardLogic returned, checking result...
 ENGINE: Move logic succeeded, proceeding with effects...
 ENGINE: Emitting specific move events...
 Applying 1 event-based effects for on_foundation_play
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 1 event-based effects for on_play_to_foundation
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Specific move events emitted successfully
 ENGINE: Getting active effects...
 Active registry entries: 0 out of 25 (including card blessings)
 ENGINE: Found 0 active effects
 ENGINE: About to update state and emit event...
 ENGINE: State updated, about to emit move event...
 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
 Enhanced scoring: Processing move: {from: 'tableau7', to: 'foundation3', cardId: 'c1'} Current player score: 101
 Found card c1 with value 1
 Move destination: foundation3 includes foundation? true
 Applied foundation multiplier: base score 1 → 2
 Active registry entries: 0 out of 25 (including card blessings)
 Applying 0 move effects for card 1 to foundation
 Enhanced scoring: Calculated move score: 2
 Enhanced scoring: Updated player score from 101 to 103 (added 2 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 2, Total player score: 103
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 56, score: 103, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 91.96428571428571% (103/112)
 Clearing shake for card: c1
 === CARD CLICK DEBUG ===
 Card ID: c29
 Pile ID: tableau7
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 56, score: 103, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 === CARD CLICK DEBUG ===
 Card ID: c29
 Pile ID: tableau7
 Selected card ID: c29
 === ENGINE CONTROLLER MOVE CARD ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau7', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '3 of clubs', movingCard: '3 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 ENGINE: Move validation failed
 Triggering shake for card: c29
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c29 is shaking, classes: card face-up clubs shake draggable
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(19), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 56, score: 103, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Finding valid moves for card c29 from pile tableau7
 Testing move: {from: 'tableau7', to: 'tableau1', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau1', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (1 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '10 of clubs', movingCard: '3 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau2', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau2', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (3 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '12 of hearts', movingCard: '3 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau3', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau3', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (6 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '5 of clubs', movingCard: '3 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau4', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau4', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (5 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '2 of spades', movingCard: '3 of clubs', isAltColor: false, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau5', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau5', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (8 cards)
 Movable stack: 1 cards
 Moving card: 3 of clubs
 Validating tableau move...
 Tableau validation: {topCard: '7 of hearts', movingCard: '3 of clubs', isAltColor: true, isDescending: false}
 Tableau result: false
 Move valid? false
 Testing move: {from: 'tableau7', to: 'tableau6', cardId: 'c29'}
 === VALIDATING MOVE ===
 Move: {from: 'tableau7', to: 'tableau6', cardId: 'c29'}
 From pile: tableau (5 cards)
 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of spades', movingCard: '3 of clubs', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of clubs', movingCard: '3 of clubs', sameSuit: true, ascending: true}
index-BLD2yI4v.js:40 Foundation result: true
index-BLD2yI4v.js:40 Move valid? true
index-BLD2yI4v.js:40 Added valid destination: foundation1
index-BLD2yI4v.js:40 Testing move: {from: 'tableau7', to: 'foundation2', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation2', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of diamonds', movingCard: '3 of clubs', sameSuit: false, ascending: true}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau7', to: 'foundation3', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation3', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '1 of hearts', movingCard: '3 of clubs', sameSuit: false, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau7', to: 'foundation4', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation4', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 3)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'tableau7', to: 'hand', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'hand', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: hand (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 INVALID: Unknown pile type or invalid destination
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['foundation1']
index-BLD2yI4v.js:40 Auto-moving card c29 from tableau7 to foundation1
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 3 of clubs
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of clubs', movingCard: '3 of clubs', sameSuit: true, ascending: true}
index-BLD2yI4v.js:40 Foundation result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'}
index-BLD2yI4v.js:40 From pile: tableau (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 4
index-BLD2yI4v.js:40 Move details: {from: 'tableau7', to: 'foundation1', toPileType: 'foundation'}
index-BLD2yI4v.js:40 Hand pile before refill: 5 cards
index-BLD2yI4v.js:40 Deck pile before refill: 4 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 Applying 1 event-based effects for on_foundation_play
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 1 event-based effects for on_play_to_foundation
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'tableau7', to: 'foundation1', cardId: 'c29'} Current player score: 103
index-BLD2yI4v.js:40 Found card c29 with value 3
index-BLD2yI4v.js:40 Move destination: foundation1 includes foundation? true
index-BLD2yI4v.js:40 Applied foundation multiplier: base score 3 → 6
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 3 to foundation
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 6
 Enhanced scoring: Updated player score from 103 to 109 (added 6 )
 Active registry entries: 0 out of 25 (including card blessings)
 Enhanced scoring: Found 0 applicable move effects
 Active registry entries: 0 out of 25 (including card blessings)
 Base move score: 6, Total player score: 109
 Active registry entries: 0 out of 25 (including card blessings)
 Base scoring check - config.rules: coronata scoringSystem exists: true
 Base scoring: Skipped because rules = coronata
 ENGINE: Move event emitted successfully
 ENGINE: Move completed successfully
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 Card c29 is shaking, classes: card face-up clubs shake
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 109, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Progress bar updated: 97.32142857142857% (109/112)
 Clearing shake for card: c29
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 GameScreen - deckPile cards: 4
 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
 GameScreen - handPile cards: 5
 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 109, exploits: Array(0), ownedBlessings: Array(0), …}
 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 === CARD CLICK DEBUG ===
 Card ID: c23
 Pile ID: hand
 Selected card ID: null
 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
 Last engine event: {type: 'move', payload: {…}}
 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
 Is Coronata mode: true
 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 109, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 === CARD CLICK DEBUG ===
index-BLD2yI4v.js:40 Card ID: c23
index-BLD2yI4v.js:40 Pile ID: hand
index-BLD2yI4v.js:40 Selected card ID: c23
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 4
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(4), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(20), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 109, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Finding valid moves for card c23 from pile hand
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau1', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau1', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '10 of clubs', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau2', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau2', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '12 of hearts', movingCard: '10 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau3', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau3', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '5 of clubs', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau4', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau4', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (5 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '2 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau5', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau5', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (8 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '7 of hearts', movingCard: '10 of diamonds', isAltColor: false, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau6', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau6', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (6 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '3 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: false}
index-BLD2yI4v.js:40 Tableau result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '11 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 Move valid? true
index-BLD2yI4v.js:40 Added valid destination: tableau7
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation1', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation1', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (3 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '3 of clubs', movingCard: '10 of diamonds', sameSuit: false, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation2', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation2', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (2 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '2 of diamonds', movingCard: '10 of diamonds', sameSuit: true, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation3', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation3', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (1 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Foundation validation: {topCard: '1 of hearts', movingCard: '10 of diamonds', sameSuit: false, ascending: false}
index-BLD2yI4v.js:40 Foundation result: false
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Testing move: {from: 'hand', to: 'foundation4', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'foundation4', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: foundation (0 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating foundation move...
index-BLD2yI4v.js:40 Empty foundation - Ace required: false (card is 10)
index-BLD2yI4v.js:40 Move valid? false
index-BLD2yI4v.js:40 Found valid destinations: ['tableau7']
index-BLD2yI4v.js:40 Auto-moving card c23 from hand to tableau7
index-BLD2yI4v.js:40 === ENGINE CONTROLLER MOVE CARD ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 === VALIDATING MOVE ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack: 1 cards
index-BLD2yI4v.js:40 Moving card: 10 of diamonds
index-BLD2yI4v.js:40 Validating tableau move...
index-BLD2yI4v.js:40 Tableau validation: {topCard: '11 of spades', movingCard: '10 of diamonds', isAltColor: true, isDescending: true}
index-BLD2yI4v.js:40 Tableau result: true
index-BLD2yI4v.js:40 ENGINE: Move validation passed
index-BLD2yI4v.js:40 ENGINE: Calling moveCardLogic...
index-BLD2yI4v.js:40 === MOVE CARD LOGIC ===
index-BLD2yI4v.js:40 Move: {from: 'hand', to: 'tableau7', cardId: 'c23'}
index-BLD2yI4v.js:40 From pile: hand (5 cards)
index-BLD2yI4v.js:40 To pile: tableau (4 cards)
index-BLD2yI4v.js:40 Movable stack length: 1
index-BLD2yI4v.js:40 Card index in fromPile: 1
index-BLD2yI4v.js:40 Move details: {from: 'hand', to: 'tableau7', toPileType: 'tableau'}
index-BLD2yI4v.js:40 Hand pile before refill: 4 cards
index-BLD2yI4v.js:40 Deck pile before refill: 4 cards
index-BLD2yI4v.js:40 Triggering hand refill from moveCard
index-BLD2yI4v.js:40 Hand refilled: drew 1 cards to reach max hand size 5, hand now has 5 cards
index-BLD2yI4v.js:40 Hand pile after refill: 5 cards
index-BLD2yI4v.js:40 Deck pile after refill: 3 cards
index-BLD2yI4v.js:40 MOVE LOGIC SUCCESS: Returning new state
index-BLD2yI4v.js:40 ENGINE: moveCardLogic returned, checking result...
index-BLD2yI4v.js:40 ENGINE: Move logic succeeded, proceeding with effects...
index-BLD2yI4v.js:40 ENGINE: Emitting specific move events...
index-BLD2yI4v.js:40 ENGINE: Specific move events emitted successfully
index-BLD2yI4v.js:40 ENGINE: Getting active effects...
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 ENGINE: Found 0 active effects
index-BLD2yI4v.js:40 ENGINE: About to update state and emit event...
index-BLD2yI4v.js:40 ENGINE: State updated, about to emit move event...
index-BLD2yI4v.js:40 Enhanced scoring: Move event received: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Enhanced scoring: Processing move: {from: 'hand', to: 'tableau7', cardId: 'c23'} Current player score: 109
index-BLD2yI4v.js:40 Found card c23 with value 10
index-BLD2yI4v.js:40 Move destination: tableau7 includes foundation? false
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Applying 0 move effects for card 10 to tableau
index-BLD2yI4v.js:40 Enhanced scoring: Calculated move score: 10
index-BLD2yI4v.js:40 Enhanced scoring: Updated player score from 109 to 119 (added 10 )
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Enhanced scoring: Found 0 applicable move effects
index-BLD2yI4v.js:40 Encounter completed! Starting fear flow: {active: true, phase: 'wander', currentActivity: {…}, queuedActivities: Array(2), completedActivities: Array(0)}
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base move score: 10, Total player score: 119
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 Base scoring check - config.rules: coronata scoringSystem exists: true
index-BLD2yI4v.js:40 Base scoring: Skipped because rules = coronata
index-BLD2yI4v.js:40 ENGINE: Move event emitted successfully
index-BLD2yI4v.js:40 ENGINE: Move completed successfully
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(21), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'move', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 3
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(21), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 119, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Progress bar updated: 100% (119/112)
index-BLD2yI4v.js:40 Active registry entries: 0 out of 25 (including card blessings)
index-BLD2yI4v.js:40 GameScreen rendering with engine state: {piles: {…}, player: {…}, registry: {…}, history: Array(21), meta: {…}, …}
index-BLD2yI4v.js:40 Engine config: {cardWidth: 48, cardHeight: 72, tableauGap: 16, deckWasteGap: 16, wasteFoundationGap: 24, …}
index-BLD2yI4v.js:40 Last engine event: {type: 'stateChange', payload: {…}}
index-BLD2yI4v.js:40 Selected fortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
index-BLD2yI4v.js:40 Is Coronata mode: true
index-BLD2yI4v.js:40 GameScreen - piles before separation: {tableau1: {…}, tableau2: {…}, tableau3: {…}, tableau4: {…}, tableau5: {…}, …}
index-BLD2yI4v.js:40 GameScreen - available pile types: (14) ['tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'tableau', 'deck', 'foundation', 'foundation', 'foundation', 'foundation', 'hand', 'waste']
index-BLD2yI4v.js:40 GameScreen - deckPile found: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 GameScreen - deckPile cards: 3
index-BLD2yI4v.js:40 GameScreen - handPile found: {id: 'hand', type: 'hand', cards: Array(5), rules: {…}, meta: {…}}
index-BLD2yI4v.js:40 GameScreen - handPile cards: 5
index-BLD2yI4v.js:40 Debug deck pile: {id: 'deck', type: 'deck', cards: Array(3), rules: undefined, meta: undefined}
index-BLD2yI4v.js:40 All pile types: (14) [{…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}, {…}]
index-BLD2yI4v.js:40 PlayerHUD - gameState: {piles: {…}, player: {…}, registry: {…}, history: Array(21), meta: {…}, …}
index-BLD2yI4v.js:40 PlayerHUD - player: {maxHandSize: 5, coins: 58, score: 119, exploits: Array(0), ownedBlessings: Array(0), …}
index-BLD2yI4v.js:40 PlayerHUD - run: {currentTrial: 1, currentEncounter: 1, totalTrials: 5, encountersPerTrial: 3, difficulty: 1, …}
index-BLD2yI4v.js:40 PlayerHUD - encounter: {id: 'fear-1-1', type: 'fear', title: 'Fear of the Scapegoat', description: 'You may not play a card from a tableau to a tableau.', scoreGoal: 112, …}
index-BLD2yI4v.js:40 PlayerHUD - selectedFortune: {id: 'fortune-stroke-of-luck', label: 'Stroke of Luck', description: 'Your hand size is permanently increased by one, and you draw one additional card.', type: 'fortune', rarity: '', …}
